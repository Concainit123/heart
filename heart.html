<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>❤️ For You ❤️</title>

<style>
body {
  margin: 0;
  background: black;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

/* STARS */
#stars {
  position: fixed;
  width: 100%;
  height: 100%;
  background:
    radial-gradient(1px 1px at 10% 20%, white, transparent),
    radial-gradient(1px 1px at 30% 80%, white, transparent),
    radial-gradient(1px 1px at 70% 40%, white, transparent),
    radial-gradient(1px 1px at 90% 10%, white, transparent),
    radial-gradient(1px 1px at 50% 50%, white, transparent);
  background-size: 250px 250px;
  animation: twinkle 4s infinite alternate;
  z-index: 0;
}

@keyframes twinkle {
  from { opacity: 0.5; }
  to { opacity: 1; }
}

/* START HEART */
#startHeart {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 150px;
  animation: pulse 1.2s infinite;
  cursor: pointer;
  z-index: 6;
}

@keyframes pulse {
  0% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.3); }
  100% { transform: translate(-50%, -50%) scale(1); }
}

/* MESSAGE */
#message {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 20px;
  text-align: center;
  white-space: pre-line;
  text-shadow: 0 0 15px red;
  z-index: 5;
}

.last-line {
  color: hotpink;
  font-size: 26px;
  font-weight: bold;
}

/* IMAGE */
#popupImage {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  max-width: 320px;
  box-shadow: 0 0 40px hotpink;
  transition: transform 0.8s ease;
  z-index: 7;
}

#popupImage.show {
  transform: translate(-50%, -50%) scale(1);
}

canvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1;
}
</style>
</head>

<body>

<div id="stars"></div>
<div id="startHeart">❤️</div>
<div id="message"></div>
<img id="popupImage" src="Capture.png">
<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

let fireworks = [], particles = [], started = false;

/* HEART MATH */
function heartShape(t){
  return {
    x:16*Math.pow(Math.sin(t),3),
    y:-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
  };
}

/* FIREWORKS */
function launchRandomFirework(){
  fireworks.push({
    x: Math.random()*canvas.width,
    y: canvas.height,
    vy: -(8 + Math.random()*6),
    explodeY: canvas.height*(0.1 + Math.random()*0.6),
    exploded:false
  });
}

/* HEART EXPLOSION */
function explodeHeart(x,y){
  for(let t=0;t<Math.PI*2;t+=0.03){
    const h=heartShape(t);
    particles.push({
      x,y,
      tx:canvas.width/2+h.x*18,
      ty:canvas.height/2+h.y*18,
      life:200,
      color:"red",
      glitter:true
    });
  }
}

/* NORMAL EXPLOSION */
function explodeNormal(x,y){
  const color=`hsl(${Math.random()*360},100%,60%)`;
  for(let i=0;i<120;i++){
    particles.push({
      x,y,
      vx:(Math.random()-0.5)*10,
      vy:(Math.random()-0.5)*10,
      life:120,
      color
    });
  }
}

/* BIG HEART AROUND IMAGE */
function shootBigHeart(){
  const rect=document.getElementById("popupImage").getBoundingClientRect();
  const cx=rect.left+rect.width/2;
  const cy=rect.top+rect.height/2;

  for(let t=0;t<Math.PI*2;t+=0.035){
    const h=heartShape(t);
    particles.push({
      x:canvas.width/2 + (Math.random()-0.5)*50,
      y:canvas.height,
      tx:cx+h.x*17,
      ty:cy+h.y*17,
      life:260,
      color:"red",
      glitter:true
    });
  }
}

/* BALLOONS */
function releaseBalloons(){
  for(let i=0;i<40;i++){
    particles.push({
      x:Math.random()*canvas.width,
      y:canvas.height+200,
      vx:(Math.random()-0.5)*0.7,
      vy:-(1+Math.random()*2),
      life:500,
      balloon:true,
      color:`hsl(${Math.random()*360},80%,65%)`
    });
  }
}

/* FLOATING HEARTS */
function releaseHearts(){
  for(let i=0;i<50;i++){
    particles.push({
      x:Math.random()*canvas.width,
      y:canvas.height+200,
      vx:(Math.random()-0.5)*1.2,
      vy:-(1.5+Math.random()*2.5),
      life:400,
      heartFloat:true
    });
  }
}

/* ANIMATION */
function animate(){
  ctx.fillStyle="rgba(0,0,0,0.25)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  fireworks.forEach(f=>{
    f.y+=f.vy;
    ctx.fillStyle="white";
    ctx.fillRect(f.x,f.y,2,10);

    if(f.y<f.explodeY && !f.exploded){
      f.exploded=true;
      Math.random()>0.5 ? explodeHeart(f.x,f.y) : explodeNormal(f.x,f.y);
    }
  });

  particles.forEach(p=>{
    if(p.tx){
      p.x+=(p.tx-p.x)*0.07;
      p.y+=(p.ty-p.y)*0.07;
    } else {
      p.x+=p.vx||0;
      p.y+=p.vy||0;
    }

    p.life--;

    if(p.balloon){
      ctx.fillStyle=p.color;
      ctx.beginPath();
      ctx.ellipse(p.x,p.y,7,12,0,0,Math.PI*2);
      ctx.fill();
    }
    else if(p.heartFloat){
      ctx.font="20px Arial";
      ctx.fillText("❤️",p.x,p.y);
    }
    else{
      ctx.fillStyle=p.color||"pink";
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.glitter?3.8:3,0,Math.PI*2);
      ctx.fill();
    }
  });

  fireworks = fireworks.filter(f=>f.y>0);
  particles = particles.filter(p=>p.life>0);
  requestAnimationFrame(animate);
}
animate();

/* TYPE MESSAGE */
function typeMessage(text){
  const el=document.getElementById("message");
  el.innerHTML="";
  let i=0;

  const timer=setInterval(()=>{
    el.innerHTML+=text[i++];
    if(Math.random()>0.8) launchRandomFirework();

    if(i>=text.length){
      clearInterval(timer);
      document.getElementById("popupImage").classList.add("show");
      setTimeout(shootBigHeart,400);
      setTimeout(()=>{
        releaseBalloons();
        releaseHearts();
      },1200);
    }
  },60);
}

/* START */
document.getElementById("startHeart").onclick=()=>{
  if(started) return;
  started=true;
  document.getElementById("startHeart").style.display="none";

  for(let i=0;i<25;i++){
    setTimeout(launchRandomFirework,i*180);
  }

  setTimeout(()=>{
    typeMessage(
`Merry Christmas my baby ❤️
maybe this is all I can give u
but I mean every part of it and it is quite chaotic too hehe
yk you are very special and always very pretty
and I love u very much moah moah
but it is sad that I can not be your bf for longer =(((
but please sympathize with me and know that


I LOVE U SO MUCH BABY ❤️
YOU WILL ALWAYS BE MY DEAREST LOVE
MWAHH ❤️ ❤️ ❤️
`
    );
  },2000);
};
</script>

</body>
</html>
